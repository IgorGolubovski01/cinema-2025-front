<div class="home-wrapper">
  <div class="background"></div>

  <!-- Promo Section -->
  <div class="promo">
    <img src="/assets/marvelLogo.svg"><br>
    <b>
      <p>Guardians</p>
      <p>of the Galaxy</p>
    </b>

    <p class="promoInfo">
      {{promoMovie?.genre?.genreName}} | <i class="fa-regular fa-calendar"></i>
      {{promoMovie?.filmDateTime}} | <i class="fa-regular fa-clock"></i> {{promoMovie?.duration}}
    </p>
    <p class="promoInfo">{{promoMovie?.description}}</p>
    <p>
      <button id="explore-button" (click)="scrollToShowing()">
        <b>Explore Movies <i class="fa-solid fa-arrow-right"></i></b>
      </button>
    </p>
  </div>
</div>

<!-- Main Content -->
<div class="content">
  <div class="showing-wrapper">
    <!-- Header with Now Showing + Search -->
    <div class="showing-header">
      <p id="showing">Now Showing</p>

      <!-- Search Bar -->
      <input
        type="text"
        placeholder="Search movies..."
        [(ngModel)]="searchTerm"
        (input)="filterMovies()"
        class="search-bar"
      />
    </div>

    <!-- Movies Grid -->
    <div class="card-display">
      <div *ngFor="let m of filteredMovies" class="card-wrapper">
        <mat-card class="example-card" appearance="outlined">
          <img class="mat-card-img" [src]="'/assets/landscape/' + m.title + '.jpg'" [alt]="m.title">

          <mat-card-content>
            <p>{{m.title}}</p>
            <p id="p-content">{{m.genre.genreName}} • {{m.filmDateTime}} • {{m.duration}}</p>
          </mat-card-content>

          <mat-card-actions>
            <button type="button" class="buy-ticket-button" [routerLink]="['/buy-ticket/', m.id]">
              <b>Buy Tickets</b>
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>

    <!-- Pagination Controls -->
    <div class="pagination">
      <button (click)="prevPage()" [disabled]="page === 0">Prev</button>
      <span>Page {{ page + 1 }} of {{ totalPages }}</span>
      <button (click)="nextPage()" [disabled]="page + 1 >= totalPages">Next</button>
    </div>
  </div>
</div>
